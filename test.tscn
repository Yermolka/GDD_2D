[gd_scene load_steps=15 format=3 uid="uid://4s3ws5qp4xgi"]

[ext_resource type="PackedScene" uid="uid://cultyql87ixvl" path="res://player/player.tscn" id="2_i86u5"]
[ext_resource type="PackedScene" uid="uid://h6j7611eadfq" path="res://npc/npc.tscn" id="6_tyudm"]
[ext_resource type="Resource" uid="uid://54wayaddf1qw" path="res://npc/test_dialogue.tres" id="7_skvad"]
[ext_resource type="PackedScene" uid="uid://bk151w22hm0gc" path="res://npc/quest_npc.tscn" id="8_1t471"]
[ext_resource type="Resource" uid="uid://qcf815f8gx5s" path="res://quests/test_quest_line.tres" id="8_we7tq"]
[ext_resource type="Script" path="res://addons/godot_gameplay_systems/inventory_system/nodes/drop_3d.gd" id="9_ciua3"]
[ext_resource type="MeshLibrary" uid="uid://c2hkxgfka4klr" path="res://world/tiles-snow.tres" id="9_ly43e"]
[ext_resource type="Resource" uid="uid://ck1sptbnvqg15" path="res://npc/test_quest_dialogue.tres" id="9_vnirw"]
[ext_resource type="Resource" uid="uid://ccnxa27u4e0kj" path="res://quests/test_quest.tres" id="10_l20ja"]
[ext_resource type="PackedScene" uid="uid://cnmhjtbhyjhph" path="res://enemies/bosses/skeleton_boss.tscn" id="10_sud8l"]
[ext_resource type="PackedScene" uid="uid://dbx4mf5ywvhdr" path="res://enemies/enemy.tscn" id="11_22uw4"]

[sub_resource type="NavigationMesh" id="NavigationMesh_toqrd"]
vertices = PackedVector3Array(-10.0487, 0.400002, -4.15518, -10.2987, 0.400002, -5.65518, -11.7987, 0.400002, -5.90518, -12.2987, 0.400002, 7.59482, -10.0487, 0.400002, -11.9052, -8.5487, 0.400002, -11.9052, -8.5487, 0.400002, -13.9052, -11.7987, 0.400002, -9.90518, -10.2987, 0.400002, -10.1552, -10.0487, 0.400002, -11.9052, -10.0487, 0.400002, -11.9052, -8.5487, 0.400002, -13.9052, -12.2987, 0.400002, -13.9052, -11.7987, 0.400002, -9.90518, -0.548704, 0.400002, -1.65518, -10.0487, 0.400002, -4.15518, -12.2987, 0.400002, 7.59482, 0.701296, 0.400002, 7.59482, -11.7987, 0.400002, -5.90518, -11.7987, 0.400002, -9.90518, -12.2987, 0.400002, -13.9052, -12.2987, 0.400002, 7.59482, 0.701296, 0.400002, 7.59482, 0.201296, 0.650002, -1.65518, -0.548704, 0.400002, -1.65518, -0.548704, 0.400002, -1.65518, -0.548704, 0.400002, -4.15518, -10.0487, 0.400002, -4.15518, -1.2987, 1.9, -10.1552, -1.0487, 1.9, -9.65518, 0.201296, 1.9, -10.9052, -0.298704, 1.9, -11.1552, -9.2987, 1.9, -9.40518, -9.5487, 1.9, -6.65518, -9.2987, 1.9, -5.15518, -2.2987, 1.9, -5.15518, -3.7987, 1.9, -7.65518, -6.5487, 1.9, -10.9052, -6.7987, 1.9, -12.9052, -5.2987, 1.9, -13.1552, -5.2987, 1.9, -13.9052, -7.5487, 1.9, -13.9052, -2.2987, 1.9, -5.15518, -2.2987, 1.9, -7.40518, -3.7987, 1.9, -7.65518, -6.7987, 1.9, -12.9052, -7.5487, 1.9, -13.9052, -7.5487, 1.9, -11.1552, -6.5487, 1.9, -10.9052, -6.5487, 1.9, -10.9052, -3.7987, 1.9, -7.65518, -3.7987, 1.9, -9.90518, -4.5487, 1.9, -10.9052, -1.2987, 1.9, -10.1552, -0.298704, 1.9, -11.1552, -0.298704, 1.9, -12.4052, -4.2987, 1.9, -12.4052, -4.5487, 1.9, -10.9052, -3.7987, 1.9, -9.90518, -7.5487, 1.9, -11.1552, -9.2987, 1.9, -10.9052, -9.2987, 1.9, -9.40518, -6.5487, 1.9, -10.9052, -10.7987, 1.9, -9.15518, -10.7987, 1.9, -6.65518, -9.5487, 1.9, -6.65518, -9.2987, 1.9, -9.40518, 0.451296, 0.400002, -13.4052, 0.701296, 0.400002, -11.9052, 2.7013, 0.400002, -11.9052, 2.7013, 0.400002, -13.9052, -4.2987, 0.400002, -13.9052, -4.2987, 0.400002, -13.4052, 0.451296, 0.400002, -13.4052, 2.7013, 0.400002, -13.9052, 4.4513, 1.9, -12.6552, 4.4513, 1.9, -13.9052, 3.7013, 1.9, -13.9052, 3.4513, 1.9, -10.9052, 5.9513, 1.9, -5.15518, 5.9513, 1.9, -12.4052, 3.4513, 1.9, -10.9052, -1.0487, 1.9, -7.65518, -2.2987, 1.9, -5.15518, -1.0487, 1.9, -7.65518, -2.2987, 1.9, -7.40518, -2.2987, 1.9, -5.15518, 5.9513, 1.9, -12.4052, 4.4513, 1.9, -12.6552, 3.4513, 1.9, -10.9052, 0.201296, 1.9, -10.9052, -1.0487, 1.9, -9.65518, -1.0487, 1.9, -7.65518, 3.4513, 1.9, -10.9052, 5.4513, 0.400002, -13.9052, 5.4513, 0.400002, -13.4052, 6.9513, 0.400002, -13.1552, 10.7013, 0.400002, -13.9052, 10.7013, 0.400002, -5.65518, 10.7013, 0.400002, -13.9052, 6.9513, 0.400002, -13.1552, 6.9513, 0.400002, -5.90518, 7.7013, 5.15, -8.15518, 9.2013, 5.15, -8.40518, 9.2013, 5.15, -9.15518, 7.7013, 5.15, -9.40518, 1.4513, 5.15, -6.65518, 7.7013, 5.15, -9.40518, 7.7013, 5.15, -10.9052, 0.201296, 5.15, -6.65518, 0.451296, 2.4, -3.40518, 1.2013, 2.4, -3.40518, 1.4513, 5.15, -6.65518, 0.201296, 5.15, -6.65518, -10.7987, 5.15, -10.9052, -10.7987, 5.15, -6.65518, 0.201296, 5.15, -6.65518, 7.7013, 5.15, -10.9052, 1.4513, 5.15, -6.65518, 7.7013, 5.15, -6.65518, 7.7013, 5.15, -8.15518, 1.4513, 5.15, -6.65518, 7.7013, 5.15, -8.15518, 7.7013, 5.15, -9.40518, 1.2013, 0.650002, -1.65518, 1.2013, 2.4, -3.40518, 0.451296, 2.4, -3.40518, 0.201296, 0.650002, -1.65518, 0.701296, 0.400002, 7.59482, 10.7013, 0.400002, -5.65518, 6.7013, 0.400002, -4.15518, 2.2013, 0.400002, -1.65518, 0.701296, 0.400002, 7.59482, 10.7013, 0.400002, 7.59482, 10.7013, 0.400002, -5.65518, 6.9513, 0.400002, -5.90518, 6.7013, 0.400002, -4.15518, 6.7013, 0.400002, -4.15518, 2.2013, 0.400002, -4.15518, 2.2013, 0.400002, -1.65518, 2.2013, 0.400002, -1.65518, 1.2013, 0.650002, -1.65518, 0.701296, 0.400002, 7.59482)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(6, 5, 4), PackedInt32Array(9, 8, 7), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 13), PackedInt32Array(14, 17, 15), PackedInt32Array(15, 17, 16), PackedInt32Array(19, 18, 20), PackedInt32Array(20, 18, 21), PackedInt32Array(24, 23, 22), PackedInt32Array(27, 26, 25), PackedInt32Array(31, 30, 28), PackedInt32Array(28, 30, 29), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 37), PackedInt32Array(34, 37, 36), PackedInt32Array(34, 36, 35), PackedInt32Array(39, 38, 40), PackedInt32Array(40, 38, 41), PackedInt32Array(44, 43, 42), PackedInt32Array(48, 47, 45), PackedInt32Array(45, 47, 46), PackedInt32Array(52, 51, 49), PackedInt32Array(49, 51, 50), PackedInt32Array(54, 53, 55), PackedInt32Array(55, 53, 58), PackedInt32Array(55, 58, 57), PackedInt32Array(55, 57, 56), PackedInt32Array(59, 62, 60), PackedInt32Array(60, 62, 61), PackedInt32Array(64, 63, 65), PackedInt32Array(65, 63, 66), PackedInt32Array(68, 67, 69), PackedInt32Array(69, 67, 70), PackedInt32Array(72, 71, 73), PackedInt32Array(73, 71, 74), PackedInt32Array(76, 75, 77), PackedInt32Array(77, 75, 78), PackedInt32Array(80, 79, 81), PackedInt32Array(81, 79, 82), PackedInt32Array(82, 79, 83), PackedInt32Array(86, 85, 84), PackedInt32Array(89, 88, 87), PackedInt32Array(91, 90, 92), PackedInt32Array(92, 90, 93), PackedInt32Array(95, 94, 96), PackedInt32Array(96, 94, 97), PackedInt32Array(101, 100, 98), PackedInt32Array(98, 100, 99), PackedInt32Array(103, 102, 104), PackedInt32Array(104, 102, 105), PackedInt32Array(107, 106, 108), PackedInt32Array(108, 106, 109), PackedInt32Array(110, 113, 111), PackedInt32Array(111, 113, 112), PackedInt32Array(115, 114, 116), PackedInt32Array(116, 114, 117), PackedInt32Array(120, 119, 118), PackedInt32Array(123, 122, 121), PackedInt32Array(125, 124, 126), PackedInt32Array(126, 124, 127), PackedInt32Array(127, 124, 128), PackedInt32Array(130, 129, 131), PackedInt32Array(131, 129, 133), PackedInt32Array(131, 133, 132), PackedInt32Array(136, 135, 134), PackedInt32Array(139, 138, 137), PackedInt32Array(142, 141, 140)]
geometry_parsed_geometry_type = 1
agent_max_slope = 60.0

[sub_resource type="BoxMesh" id="BoxMesh_82lg2"]
size = Vector3(100, 1, 100)

[sub_resource type="BoxShape3D" id="BoxShape3D_h4kj5"]
size = Vector3(100, 1, 100)

[node name="TestLevel" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("2_i86u5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.90512, 0)
xp_map = [0, 10]

[node name="NPC" parent="." instance=ExtResource("6_tyudm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7.81061)
dialogue_data = ExtResource("7_skvad")

[node name="QuestNPC" parent="." instance=ExtResource("8_1t471")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.93057, 0, -5.47077)
dialogue_data = ExtResource("9_vnirw")
quest = ExtResource("10_l20ja")

[node name="QuestNPC2" parent="." instance=ExtResource("8_1t471")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.36649, 0, -5.47077)
dialogue_data = ExtResource("9_vnirw")
quest = ExtResource("8_we7tq")

[node name="Drop3D" type="Node3D" parent="."]
script = ExtResource("9_ciua3")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.87384, 0.486213, 0, -0.486213, 0.87384, 0, 4.97712, 5.89642)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_toqrd")

[node name="GridMap" type="GridMap" parent="NavigationRegion3D"]
mesh_library = ExtResource("9_ly43e")
cell_size = Vector3(1.6, 1.6, 1.6)
cell_center_y = false
collision_layer = 4
data = {
"cells": PackedInt32Array(0, 65534, 106, 0, 65533, 111, 65536, 65533, 106, 131072, 65532, 106, -65536, 65534, 111, -65535, 65534, 111, -65536, 65535, 111, -1, 65535, 111, -65535, 65535, 111, -65535, 65533, 111, -65535, 65532, 111, -65536, 65533, 111, -1, 65533, 111, -1, 65534, 111, -1, 65532, 111, -65536, 65531, 111, -65536, 65530, 111, -65535, 65530, 111, -65535, 65531, 111, -65536, 65532, 111, -1, 65531, 111, -2, 65532, 111, -2, 65531, 111, -65536, 65529, 111, -65535, 65528, 111, -65536, 65528, 111, -1, 65529, 111, -2, 65530, 111, -3, 65531, 111, -3, 65532, 111, -3, 65533, 111, -2, 65533, 111, -2, 65534, 111, -3, 65534, 111, -4, 65534, 111, -4, 65535, 111, -5, 0, 111, -5, 1, 111, -4, 1, 111, -4, 0, 111, -3, 65535, 111, -3, 0, 111, -2, 0, 111, -2, 65535, 111, -3, 1, 111, -3, 2, 111, -2, 1, 111, -1, 0, 111, -65536, 0, 111, -1, 1, 111, -65536, 1, 111, -2, 2, 111, -8, 65527, 111, -8, 65528, 111, -8, 65529, 111, -8, 65530, 111, -8, 65531, 111, -8, 65532, 111, -8, 65533, 111, -8, 65534, 111, -8, 65535, 111, -8, 0, 111, -8, 1, 111, -8, 2, 111, -8, 3, 111, -8, 4, 111, -7, 65527, 111, -7, 65528, 111, -7, 65529, 111, -7, 65530, 111, -7, 65531, 111, -7, 65532, 111, -7, 65533, 111, -7, 65534, 111, -7, 65535, 111, -7, 0, 111, -7, 1, 111, -7, 2, 111, -7, 3, 111, -7, 4, 111, -6, 65527, 111, -6, 65528, 111, -6, 65529, 111, -6, 65530, 111, -6, 65531, 111, -6, 65532, 111, -6, 65533, 111, -6, 65534, 111, -6, 65535, 111, -6, 0, 111, -6, 1, 111, -6, 2, 111, -6, 3, 111, -6, 4, 111, -5, 65527, 111, -5, 65528, 111, -5, 65529, 111, -5, 65530, 111, -5, 65531, 111, -5, 65532, 111, -5, 65533, 111, -5, 65534, 111, -5, 65535, 111, -5, 2, 111, -5, 3, 111, -5, 4, 111, -4, 65527, 111, -4, 65528, 111, -4, 65529, 111, -4, 65530, 111, -4, 65531, 111, -4, 65532, 111, -4, 65533, 111, -4, 2, 111, -4, 3, 111, -4, 4, 111, -3, 65527, 111, -3, 65528, 111, -3, 65529, 111, -3, 65530, 111, -3, 3, 111, -3, 4, 111, -2, 65527, 111, -2, 65528, 111, -2, 65529, 111, -2, 3, 111, -2, 4, 111, -1, 65527, 111, -1, 65528, 111, -1, 65530, 111, -1, 2, 111, -1, 3, 111, -1, 4, 111, -65536, 65527, 111, -65536, 2, 111, -65536, 3, 111, -65536, 4, 111, -65535, 65527, 111, -65535, 65529, 111, -65535, 0, 111, -65535, 1, 111, -65535, 2, 111, -65535, 3, 111, -65535, 4, 111, -65534, 65527, 111, -65534, 65528, 111, -65534, 65529, 111, -65534, 65530, 111, -65534, 65531, 111, -65534, 65532, 111, -65534, 65533, 111, -65534, 65534, 111, -65534, 65535, 111, -65534, 0, 111, -65534, 1, 111, -65534, 2, 111, -65534, 3, 111, -65534, 4, 111, -65533, 65527, 111, -65533, 65528, 111, -65533, 65529, 111, -65533, 65530, 111, -65533, 65531, 111, -65533, 65532, 111, -65533, 65533, 111, -65533, 65534, 111, -65533, 65535, 111, -65533, 0, 111, -65533, 1, 111, -65533, 2, 111, -65533, 3, 111, -65533, 4, 111, -65532, 65527, 111, -65532, 65528, 111, -65532, 65529, 111, -65532, 65530, 111, -65532, 65531, 111, -65532, 65532, 111, -65532, 65533, 111, -65532, 65534, 111, -65532, 65535, 111, -65532, 0, 111, -65532, 1, 111, -65532, 2, 111, -65532, 3, 111, -65532, 4, 111, -65531, 65527, 111, -65531, 65528, 111, -65531, 65529, 111, -65531, 65530, 111, -65531, 65531, 111, -65531, 65532, 111, -65531, 65533, 111, -65531, 65534, 111, -65531, 65535, 111, -65531, 0, 111, -65531, 1, 111, -65531, 2, 111, -65531, 3, 111, -65531, 4, 111, -65530, 65527, 111, -65530, 65528, 111, -65530, 65529, 111, -65530, 65530, 111, -65530, 65531, 111, -65530, 65532, 111, -65530, 65533, 111, -65530, 65534, 111, -65530, 65535, 111, -65530, 0, 111, -65530, 1, 111, -65530, 2, 111, -65530, 3, 111, -65530, 4, 111, 0, 65532, 111, 0, 65531, 111, 65535, 65531, 111, 65534, 65531, 111, 65534, 65532, 111, 65535, 65532, 111, 1, 65531, 111, 1, 65532, 111, 2, 65532, 111, 3, 65532, 111, 1, 65530, 111, 2, 65531, 111, 3, 65531, 111, 0, 65530, 111, 0, 65529, 111, 65535, 65529, 111, 65534, 65529, 111, 65533, 65529, 111, 65533, 65530, 111, 65533, 65531, 111, 65532, 65531, 111, 65534, 65530, 111, 65535, 65530, 111, 65532, 65530, 111, 65532, 65532, 111, 65533, 65532, 111, 65532, 65529, 111, 65531, 65530, 111, 65531, 65531, 111, 65530, 65531, 111, 65529, 65531, 111, 65529, 65530, 111, 65530, 65530, 111, 65530, 65529, 111, 65530, 65532, 111, 65531, 65532, 111, 65531, 65529, 111, 65531, 65528, 111, 65531, 65527, 111, 65532, 65527, 111, 65533, 65528, 111, 65534, 65528, 111, 65535, 65528, 111, 1, 65529, 111, 2, 65529, 111, 2, 65530, 111, 3, 65530, 111, 2, 65528, 111, 2, 65527, 111, 3, 65528, 111, 3, 65529, 111, 131070, 65530, 111, 131072, 65531, 111, 196601, 65529, 111, 196601, 65530, 111, 196601, 65531, 111, 196602, 65529, 111, 196602, 65530, 111, 196602, 65531, 111, 196603, 65529, 111, 196603, 65530, 111, 196603, 65531, 111, 196604, 65529, 111, 196604, 65530, 111, 196604, 65531, 111, 196605, 65529, 111, 196605, 65530, 111, 196605, 65531, 111, 196606, 65529, 111, 196606, 65530, 111, 196606, 65531, 111, 196607, 65529, 111, 196607, 65530, 111, 196607, 65531, 111, 131072, 65529, 111, 131072, 65530, 111, 131073, 65529, 111, 131073, 65530, 111, 131074, 65529, 111, 131074, 65530, 111, 131075, 65529, 111, 131075, 65530, 111, 131076, 65529, 111, 131076, 65530, 111, 131073, 65531, 111, 131074, 65531, 111, 131075, 65531, 111, 131077, 65530, 111, 131076, 65531, 111)
}
metadata/_editor_floor_ = Vector3(0, 2, 0)

[node name="SkeletonBoss" parent="." instance=ExtResource("10_sud8l")]
process_mode = 4
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.91964, 0, -6.11699)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -43.91, 0)
collision_layer = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("BoxMesh_82lg2")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("BoxShape3D_h4kj5")

[node name="Enemy" parent="." instance=ExtResource("11_22uw4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.42217, -0.898042)
